<app-header>
  <div
    class="header-directions"
    align-center
  >
    <!-- @let directions = tripForm.controls.plan.value;
    @let from = directions.from;
    @let to = directions.to;

    @if (from && to) {
      <mat-icon>flight_takeoff</mat-icon>
      {{ from }}
      <mat-icon> arrow_forward </mat-icon>
      {{ to }}
      <mat-icon>flight_land</mat-icon>
    } -->
  </div>
</app-header>

<main>
  <!-- Info -->
  <mat-card
    appearance="outlined"
    class="section"
  >
    @let infoGroup = tripForm.controls.info;
    <mat-card-header>
      <mat-card-title> Trip details </mat-card-title>
      <mat-card-subtitle>
        Author:
        <span>
          {{ authService.currentUser()?.username }}
        </span>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>
        <mat-form-field
          appearance="outline"
          class="description-field"
          subscriptSizing="dynamic"
        >
          <mat-label>Description</mat-label>
          <textarea
            matInput
            [formControl]="infoGroup.controls.description"
            rows="5"
          ></textarea>
        </mat-form-field>
      </p>
    </mat-card-content>
  </mat-card>

  <!-- Plan -->
  <mat-card
    appearance="outlined"
    class="section"
  >
    <mat-card-header>
      <mat-card-title> Trip plan </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-plan-editor [formArray]="tripForm.controls.plan"></app-plan-editor>
    </mat-card-content>
  </mat-card>
</main>
