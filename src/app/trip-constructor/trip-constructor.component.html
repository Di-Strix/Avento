<app-header>
  <div align-right>
    <button
      mat-flat-button
      class="publish-button"
      [disabled]="tripForm.invalid || uploading"
      disabledInteractive
      [matTooltip]="getUploadButtonError()"
      (click)="publish()"
    >
      <mat-icon>publish</mat-icon>Publish!
    </button>
  </div>
</app-header>

<main>
  <!-- Info -->
  <mat-card
    appearance="outlined"
    class="section"
  >
    <mat-card-header>
      <mat-card-title> Trip details </mat-card-title>
      <mat-card-subtitle>
        Author:
        <span>
          {{ authService.currentUser()?.name }}
        </span>
      </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <app-info-editor [form]="tripForm.controls.info"></app-info-editor>
    </mat-card-content>
  </mat-card>

  <!-- Plan -->
  <mat-card
    appearance="outlined"
    class="section"
  >
    <mat-card-header>
      <mat-card-title> Trip plan </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-plan-editor [formArray]="tripForm.controls.plan"></app-plan-editor>
    </mat-card-content>
  </mat-card>
</main>
